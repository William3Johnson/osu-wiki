<!-- wiki -->
[Game_Modes wikilink]: ../ "游戏模式"
[osu! wikilink]: /wiki/Game_Modes/osu! "osu!"
[osu!taiko wikilink]: /wiki/Game_Modes/osu!taiko/ "osu!taiko"
[Play_Styles#osu!mania wikilink]: /wiki/Play_Styles/#osu-mania "更多信息可以在玩法风格页面的 osu!mania 一节找到"
[Co-Op wikilink]: /wiki/Game_Modifiers "更多信息可以在游戏 Mod 页面下的 Co-Op 一节找到"
[xK wikilink]: /wiki/Game_Modifiers "更多信息可以在u游戏 Mod 页面下的 xK 一节找到"
[Score#osu!maniaSV wikilink]: /wiki/Score/#osu-mania "更多信息可以在评分页面下的 osu!mania 得分值一节找到"
[Options#Keyboard wikilink]: /wiki/Options/#keyboard "更多信息可以在设置的介绍页面中的键盘一节找到"
[Skinning#osu!mania wikilink]: /wiki/Skinning/osu!mania/ "osu!mania 皮肤制作指南"
[Hidden wikilink]: /wiki/Game_Modifiers "m更多信息可以在游戏 Mod 页面下的 Hidden 一节找到"
[Fade In wikilink]: /wiki/Game_Modifiers "m更多信息可以在游戏 Mod 页面下的 Fade In 一节找到"
[Flashlight wikilink]: /wiki/Game_Modifiers "m更多信息可以在游戏 Mod 页面下的 Flashlight 一节找到"
[Mascots#Maria wikilink]: /wiki/Mascots/#maria "m更多信息可以在吉祥物的介绍页面中的 Maria 一节找到"
[Auto wikilink]: /wiki/Game_Modifiers "m更多信息可以在游戏 Mod 页面下的 Auto 一节找到"

<!-- osu!mania specific -->
[osu!mania logo]: ./img/Mania_logo.png "o特别模式下的 osu!mania 图标"
[osu!mania SC image]: ./img/Mania_SC.jpg "速度值位于右上方"
[osu!mania SCDiff image]: ./img/Mania_SCDifference.png "调整速度可以根据谱面密度"
[set fixed scaling image]: ./img/Mania_Scale.png "在选项栏禁用此项来开启通配的 ` osu!mania 下落速度`"

<!-- shared image -->
[osu!mania icon link]: /wiki/shared/mode/mania.png "osu!mania 图标"
[osu!mania 游戏区]:  /wiki/shared/Mania_playfield.jpg "osu!mania 游戏区"
[osu!mania 音符]: /wiki/shared/Mania_notes.jpg "osu!mania 音符"
[osu!mania 长按音符]: /wiki/shared/Mania_holdnotes.jpg "osu!mania 长按音符"
[osu!mania 界面]: /wiki/shared/Interface_mania.jpg "osu!mania 界面"
[osu!mania 按键输入]: /wiki/shared/Mania_key_layouts.jpg "osu!mania 按键输入"
[osu!mania 按键输入2]: /wiki/shared/Mania_key_layouts2.jpg "osu!mania 按键输入（Co-Op）"
[osu!mania 专用编辑器]: /wiki/shared/Editor_Mania.png "osu!mania 专用编辑器"
[osu!mania SSD image]: /wiki/shared/Song_Setup_Difficulty_Mania.jpg "osu!mania 专用难度设置"
[设置键位]: /wiki/shared/Options_keyboard.jpg "设置键盘键位"

<!-- Title -->

# osu!mania

**[单击返回游戏模式页][Game_Modes wikilink]**

<!-- Uncomment the below and delete this comment if ScoreV2 is official and the whole page must be revised to fit ScoreV2 system behaviour -->
<!-- **[Click here to visit the older version of osu!mania using deprecated ScoreV1 system](./v1 "osu!mania v1")** -->

![osu!mania玩法][osu!mania 界面]

这个模式在几乎所有的节奏游戏中都得到了广泛的应用。
音符（其数量取决于 BPM 和难度）移动在轨道上需要良好的手和 / 或腿协调。
玩家必须在特定的时间内按下正确的键。
虽然这个游戏模式最初是模仿狂热节拍风格的玩法，但是 osu!mania 允许改变键数或垂直翻转轨道运动的方向（这意味着它可以看起来更像吉他英雄【5键】或热舞革命【4键】等。

这有点类似于 [osu!taiko][osu!taiko wikilink]， 但它有更多的按钮音符垂直移动而不是水平移动。

## ![osu!mania 图标][osu!mania icon link] 游戏说明

### 选择歌曲

按下 `Ctrl` + `4` 即可选择【osu!mania】模式。

或者点击 `模式` 按钮并选择 `osu!mania` 。

#### 按键和判定

在歌曲选择页面，旁边的 _K_ 数字表示有多少个键可玩。
如果在 _K_ 后面有"↓"符号，意味着它比一般情况下的判定要宽松些。

比如，_4K↓_ 表示它比一般情况下的 4K 判定要宽松。

请注意，谱面的判定是自动确定的。

#### osu!mania 专谱与由 osu! 谱面转换的转谱之间的差异

当选择转谱时，默认的按键范围为 4k-7k 。

使用 [xK][xK wikilink] 游戏 Mod，玩家可以手动设置 1-9K 按键数，并且分数倍化系数会减少。
但游戏 Mod 不能修改 osu!mania 专谱的按键数。

使用 [Co-Op][Co-Op wikilink] 游戏 Mod 会将游戏面板分成两部分来进行合作控制，并允许玩家玩 2-18K ；同时分数倍化系数也会减少。
请注意，专谱的预置键数不会被翻倍，而是拆分两个部分（如果按键数是奇数则左面板优先，比如 7K 将拆分成 4+3 ），使用 Co-Op 的情况下分数倍化系数将不会减少。

#### 速度的调整

![速度值位于右上方][osu!mania SC image]

_右上角显示下落速度。_

_该图像显示了 BPM 比例倍速（适配速度）和固定倍速（通配速度）之间的区别。_

**音符的滚动速度** 可以通过 `Ctrl`（或 `Shift` ）和 `+` （加速） / `-`（减速） 命令来改变。

最低是 1，最高是 40 。

##### BPM 比例倍速（适配速度）和固定倍速（通配速度）

![可以根据谱面的物件密度来调整下落速度][osu!mania SCDiff image]

_可以根据谱面的物件密度、BPM 和缩放程度来调整（上图使用的速度值为 1 ）_

**BPM 适配** 是当前默认的谱面速度调整方式，它根据谱面的 BPM 调整物件的下落速度。
适配速度相同的情况下，100 BPM（更慢）与 200 BPM（更快）的下落速度是不同的。

![禁用此项来开启通配的 `osu!mania 下落速度` ][set fixed scaling image]

_禁用此项来开启通配的 ` osu!mania 下落速度`_

**通配** 是一种新的谱面速度调整方式，它无视谱面的 BPM ，强制使用固定的下落速度。
[Blazier 在 2014 年 10 月 29 日对固定下落速度做了一个非常简单的介绍](https://osu.ppy.sh/forum/t/254145)。

请注意，这两种速度调整方式仍然会受到 BPM 变速/速度的影响, 范围由强（通常是 BPM 过度到一个更高的 BPM 和更快的音符；更低的 BPM 用于固定的音符密度）到弱（通常用于大多数固定的 BPM 范围）。

### 游戏玩法

#### 游戏区

![osu!mania 游戏区][osu!mania 游戏区]

_osu!mania 的游戏区界面_

默认情况下，音符是从轨道的上方开始滚动（开始箭头表示音符的运动方向），通过底部的按键和按键面板上面的判定线来控制。可以在 `Options` 里更改成自下而上的方向：点击 `输入` 区的 `osu!mania 键位排列` ，开启 `上下颠倒（ DDR 风格）` 。

血量槽位于轨道面板的右侧。
请注意，在 osu!mania 中血量不会自动减少，所以只有命中音符才会影响血量。
连击不会在无音符时被空判定打断。

**音符的滚动速度**可以用 `Ctrl`（或 `Shift` ）和 `+` (加速) / `-` (减速)或者只按 `F3` (更快)/ `F4` (更慢)。

#### 音符

![osu!mania 的音符][osu!mania 音符]

_有连续音符与多压音符的经典玩法_

音符是 osu!mania 的打击圈。
落下的音符必须在判定线上敲击，对于每一个音符都要与正确的按键相对应。
当同时落下多个音符时，必须同时敲击与音符相对应的键。

在判定区按下正确的键之后，会得到一个判定得分提示。

#### 长按音符（面条）

![osu!mania 的长按音符][osu!mania 长按音符]

_有长按音符（面条）的经典玩法_

面条相当于 osu!mania 的滑条和转盘。
当面条到达判定线时，用正确的键按住面条头，并在面条尾准确松开。

血槽会在按住面条时缓慢上升。
在一些怪异的谱面中，会出现音符重叠到已经按住的面条里面的情况。

## 游戏方式

**[参考 osu!mania 下的游戏方式][Play_Styles#osu!mania wikilink]**

## 控制

![设置键位][设置键位]

_[参考 Options→输入 下的键盘设置, 特别是`osu!mania 键位排列` 按钮来调整按键设置][Options#Keyboard wikilink]_

请注意，以下提供的按键键位均使用 osu! 的默认键位设置。

玩家如果需要手动设置键位，使用 `osu!mania 键位排列` 按钮

当前默认的按键设置基于 _对称_ 风格所安排的。

### 一般

![osu!mania 的默认按键（Options→输入）][osu!mania 按键输入]

_过去_ 有两种不同的布局风格, _对称_ 和 _从左到右_

- _对称_ 风格是模仿 _DJMAX_ 的按键键位，中心控制键是模拟踩踏板类街机音游的元素。
  中心键匹配轨道中心（仅限奇数键），其他轨道匹配其对应的键。
- _从左到右_ 风格模仿 _Beatmania IIDX_ 的按键位置，第一列轨道匹配 _key1_，然后第二列轨道匹配 _key2_，以此类推。
  - 不过现在该选项已被删除，目前的风格是 “对称” 风格。
    由于遗留的历史问题，“从左到右” 风格的说明在这里依旧存在。

_对称_ 按键布局（ _DJMAX_ 风格）
- _左手_ 键位 — (K1) `A`, (K2) `S`, (K3) `D`, (K4) `F`
- _右手_ 键位 — (K6) `J`, (K7) `K`, (K8) `L`, (K9) `;` 。
- _中心_ 键位 — (K5) `空格`【仅限奇数键】
- _特殊_ 键位 — `左 Shift`【使用特殊风格】和`左 Ctrl`【切换绑定】。

键位 | 左侧按键 | 中间按键 | 右侧按键
:---:|:---|:---:|---:
1K   |  - | K5  |
2K|K4|-|K6
3K|K4|K5|K6
4K|K3, K4|-|K6, K7
5K|K3, K4|K5|K6, K7
6K|K2, K3, K4|-|K6, K7, K8
6K（左侧）|**S1**, K3, K4|K5|K6, K7
6K（右侧）|K3, K4|K5|K6, K7, **S1**
7K|K2, K3, K4|K5|K6, K7, K8
8K|K1, K2, K3, K4|-|K6, K7, K8, K9
8K（左侧）|**S1**, K2, K3, K4|K5|K6, K7, K8
8K（右侧）|K2, K3, K4|K5|K6, K7, K8, **S1**
9K|K1, K2, K3, K4|K5|K6, K7, K8, K9

_从左到右_ 按键布局（ _Beatmania IIDX_ 风格）：
- 从下到上再从下到上排列：(K1) `Z`, (K2) `S`, (K3) `X`, (K4) `D`, (K5) `C`, (K6) `F`, (K7) `V`, (K8) `G`, (K9) `B` 【 K9 未被使用】
- _特殊_ 键位 — `左 Shift` 和 `左 Ctrl` 。

键数 | 布局
:---:|:---
4K|K1, K2, -, K4, K5
5K|K1, K2, K3, K4, K5
6K|K1, K2, K3, K4, K5, K6
7K|K1, K2, K3, K4, K5, K6, K7
8K|K1, K2, K3, K4, K5, K6, K7, K8
8K(L)|**S1**, K1, K2, K3, K4, K5, K6, K7
8K(R)|K1, K2, K3, K4, K5, K6, K7, **S1**

- 注释：请参考图片使用的风格。

### Co-Op 合作

![osu!mania 的默认按键（Co-Op）][osu!mania 按键输入2]

**[2015 年 3 月 5 日的更新](http://osu.ppy.sh/p/changelog?v=b20150305)** 为 osu!mania 添加了一个新 Mod —— 合作模式（ [Co-Op][Co-Op wikilink] ）。
开启这个 Mod 后，游戏中会多一个含有一套不同音符的游戏面板。

_对称_ 布局的第二套方案

- _左手_ 键位 — (B1) `Q`, (B2) `W`, (B3) `E`, (B4) `R` 。
- _右手_ 键位 — (B6) `U`, (B7) `I`, (B8) `O`, (B9) `P` 。
- _中心_ 键位 — (B5) `右 Alt`【仅限奇数键】。
- _特殊_ 键位 - (X1) `右 Shift` 【使用特殊风格】或 `右 Ctrl`【切换绑定】。

**下表的键位基于 xK Mod 与 Co-Op Mod 配合所形成的键位。**

按键 | 1P 左侧按键 | 1P 中间按键 | 1P 右侧按键 | 2P 左侧按键 | 2P 中间按键 | 2P 右侧按键
:---:|:---|:---:|---:|:---|:---:|---:
1K Co-op|-|K5|-|-|B5|-
2K Co-op|K4|-|K6|B4|-|B6
3K Co-op|K4|K5|K6|B4|B5|B6
4K Co-op|K3, K4|-|K6, K7|B3, B4|-|B6, B7
5K Co-op|K3, K4|K5|K6, K7|B3, B4|B5|B6, B7
6K Co-op|K2, K3, K4|-|K6, K7, K8|B2, B3, B4|-|B6, B7, B8
6K(L) Co-op|**S1**, K3, K4|K5|K6, K7|B3, B4|B5|B6, B7, **X1**
6K(R) Co-op|K3, K4|K5|K6, K7, **S1**|**X1**, B3, B4|B5|B6, B7
7K Co-op|K2, K3, K4|K5|K6, K7, K8|B2, B3, B4|B5|B6, B7, B8
8K Co-op|K1, K2, K3, K4|-|K6, K7, K8, K9|B1, B2, B3, B4|-|B6, B7, B8, B9
8K(L) Co-op|**S1**, K2, K3, K4|K5|K6, K7, K8|B2, B3, B4|B5|B6, B7, B8, **X1**
8K(R) Co-op|K2, K3, K4|K5|K6, K7, K8, **S1**|**X1**, B2, B3, B4|B5|B6, B7, B8
9K Co-op|K1, K2, K3, K4|K5|K6, K7, K8, K9|B1, B2, B3, B4|B5|B6, B7, B8, B9

**下表只适用于 osu!mania 专谱；
这里只介绍奇数 xK 所使用的键位。
如果要了解偶数按键的键位，请参考第一个表中偶数 xK 的部分（对于 4K 键位参考 2K Co-op，等等）。**

按键 | 1P 左侧按键 | 1P 中间按键 | 1P 右侧按键 | 2P 左侧按键 | 2P 中间按键 | 2P 右侧按键
:---:|:---|:---:|---:|:---|:---:|---:
3K|K4|-|K6|-|B5|-
5K|K4|K5|K6|B4|-|B6
7K|K3, K4|-|K6, K7|B4|B5|B6
9K|K3, K4|-|K6, K7|B3, B4|B5|B6, B7

## 评分

_[得分值可以在 osu!mania 得分值部分找到][Score#osu!maniaSV wikilink]_

评分一节详细介绍了评分系统的所有细节，包括数学公式。

### 得分评级

评级| 条件
:---:|:---
SS   | 100% 精确度（只有 MAX 和 / 或 300）。
S    | 超过 95% 精确度（一个'S'评级甚至可能有几次失误，比如 _osu!catch_）。
A    | 超过 90% 精确度。
B    | 超过 80% 精确度。
C    | 超过 70% 精确度。
D    | 上述以外的其他情况。

可以用过开启 [Hidden][Hidden wikilink]/[Fade In][Fade In wikilink] 或者 [Flashlight][Flashlight wikilink] Mod 来获得 SSH 或 SH 评级（银色 S 或 SS）。

### 准确度

这个模式的准度计算类似于 [osu!standard][osu! wikilink] 。

换句话说：`准确度 = 命中总分数 / （命中总数）`

术语 | 公式
:---:|:---
**命中总分数** | （50 数 * 50 + 100 数 * 100 + 200 数 * 200 + 300 数 * 300 + 彩300 数 * 300）
**命中总数** | （miss 数 + 50 数 + 100 数 + 200 数 + 300 数 + 彩 300 数）

请注意，MAX（彩 300）和 300 都是计算判定的最大值，尽管在得分方面彩 300 的值大于300。

### 得分

每谱面都具有相同的总得分，最高为 100 万（1,000,000）。

得分分为两个部分——基础得分和加成得分，每种得分占总分的50%。

- 基础得分是基于命中判定。
  - 彩 300 的值比 300 多一点。
- 加成分数是基于命中判定和浮动加成乘数。
  - 加成由彩虹 300 或 300 增加，由 200 或以下减少。
  - 判定越好，加成越大，惩罚越少。
    - 加成有一个上限。

每个音符的分数用下面的公式计算：

```
得分 = 基础得分 + 加成得分

基础得分 =（最大分数 * Mod 加成  * 0.5 / 总音符数）*（命中值 / 320）

加成得分 = (最大分数 * Mod 加成  * 0.5 / 总音符数） * （命中加成值 * 平方根（加成） / 320)
加成 = 命中前的加分 + 命中加分 - 命中惩罚 / Mod 规则
加分限制在 [0, 100] ，开始于100。

最大分数 = 1000000
Mod 乘数 = 被选中的 Mod S 的得分加成（难度降低和/或nK）
Mod 规则 = 被选中的 Mod S 的惩罚规则（难度增加）

  判定     命中值   命中加成值      命中加分     命中惩罚
   MAX       320          32            2
   300       300          32            1
   200       200          16                        8
   100       100           8                       24
    50        50           4                       44
  Miss         0           0                        ∞

       Mod     Mod 加成       Mod 规则
      Easy       0.5
    NoFail       0.5
  HalfTime       0.5
  HardRock                    1.08
DoubleTime                     1.1
 NightCore                     1.1
    FadeIn                    1.06
    Hidden                    1.06
Flashlight                    1.06
```

### 命中的判定

**音符**

- 一个音符的 MAX（彩 300）、300、200、100 或 50 取决于击中的时机。
- 错过一个音符或是按下过早，就会出现一个 Miss 。

**面条**

- 面条的判定取决于开头长按和结尾释放的时机。
- 保持长按到面条结尾，在首尾都完美命中：MAX（彩 300）。
- 长按到最后没有释放音符：200
- 出现 _NG_ 并且没有重新按住音符：Miss
- 出现 _NG_ 并且按迟面条：50

NG: _非G ood_ ，在 _StepMania/DDR_ 术语中，它表示面条按中状态时中途松开（即断面）。

### 分数 / 连击 加成

**以下情况将使分数倍化系数增加：**

- 按下对应音符的正确的键。
- 用正确的键按住面条。

**下面将把分数倍化系数重置为零：**

- 未完成音符。
- 按住面条时中途释放。

**以下不会增加或重置分数倍化系数：**

- 在面条尾释放

## 血量槽

血量计算系统是很复杂的，这里不会详细解释。
这依据谱面的 HP 值设定，只能由谱面本身决定。

**以下情况会使血量恢复：**

- 打出彩 300，300，200。
- 正确地按住面条。

**以下情况会使血量下降：**

- 打出 50 或 Miss 。

**以下将保持血量在血量槽内：**

- 无。

## 皮肤制作

**[参考 osu!mania 皮肤制作的全部信息][Skinning#osu!mania wikilink]**

## 作图

### osu!mania 专用编辑器

![osu!mania 专用编辑器][osu!mania 专用编辑器]

_osu!mania 专用编辑器_

要使用 osu!mania 专用编辑器，请将当前谱面 Song Setup 的 Advanced 选项卡中的模式更改为 osu!mania 。
请注意，只有将谱面模式从 _All_ 更改为 _osu!mania_ 时，谱面才会锁定为 osu!mania 模式。

![更改按键数][osu!mania SSD image]

_更改强制按键数_

在 Song Setup 的难度选项卡中调整 _Key数_ 以更改强制按键数。
勾选 `Co-op 模式` 以在游戏时强制开启 Co-Op Mod ，此时就会变成双倍 _Key数_ 。

## 其他

### 玩法

- 当谱面原本的 Key 数和启用了 xK 或者 Co-Op Mod 之后的 Key 数相同时，分数倍化系数并不会减少。
  - 例如，一个 4K 谱面，使用 2K + Co-Op Mod 后分数倍化系数并不会减少。
  - 同理，对于 5K 谱面使用 5K Mod 时也不会减分。
  - 在 osu!mania 专谱中使用 xK 或者 Co-Op Mod 也将不会导致任何减分。
- osu!mania 的吉祥物是 [Maria][Mascots#Maria wikilink]。
- 当使用 [Auto][Auto wikilink] 游戏时，玩家的名字将变成 _osu!topus_ 。

### 历史

![特别模式中的 osu!mania 图标][osu!mania logo]

_已经废弃的特别模式中的 osu!mania 图标_

- osu!mania 发布于 [**2012 年 10 月 8 日**，主要由 **woc2006** 实现](http://osu.ppy.sh/forum/p/1825880)。
- 旧版的 osu!mania 编辑器 _曾_ 要求谱面作者在 osu!standard 编辑页面放置打击圈/滑条，然后根据物件的类型和位置转换成相应类型和位置的音符。
- 第一张被正式 Ranked 的 osu!mania 专谱是[ fripSide - only my railgun (TV Size) (DJPop)](https://osu.ppy.sh/s/63089 "fripSide - only my railgun (TV Size) (DJPop)")。

## 参考内容

- [论坛的公告帖](http://osu.ppy.sh/forum/p/1825880)
